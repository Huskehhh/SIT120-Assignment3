(function(e){function t(t){for(var r,n,s=t[0],o=t[1],c=t[2],u=0,h=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&h.push(l[n][0]),l[n]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);d&&d(t);while(h.length)h.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,s=1;s<a.length;s++){var o=a[s];0!==l[o]&&(r=!1)}r&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},l={app:0},i=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/sit120-assignment3/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("85ec"),l=a.n(r);l.a},"2f9c":function(e,t,a){"use strict";var r=a("e04c"),l=a.n(r);l.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("0cdd");var r=a("2b0e"),l=a("5f5b");a("ab8b"),a("2dd8");r["default"].use(l["a"]);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("index")],1)},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex h-100 p-3 mx-auto flex-column"},[a("header",{staticClass:"mb-auto"},[a("div",[a("h3",[e._v("iRecall")]),a("dynamic-nav",{attrs:{"logged-in":e.loggedIn,recalls:e.recalls,garage:e.garage},on:{"update-login":e.updateLoginEvent,"show-recall-alert":e.handleShowRecalled,"add-registered-vehicle":e.addRegisteredVehicle}})],1),e.showRecalledVehicle?a("b-alert",{attrs:{variant:"danger",show:"",dismissible:""}},[e._v(e._s(e.getStringifiedText(this.searchedVehicle))+" has been recalled. If you own a vehicle like this, please contact your local dealership immediately! ")]):e._e()],1),a("main",{attrs:{role:"main"}},[a("h1",[e._v(e._s(e.mastheadContent))]),a("p",{staticClass:"lead"},[e._v(e._s(e.mastheadDescription))]),e.loggedIn?e._e():a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}]},[e._v("Register")]),a("register",{on:{"update-login":e.updateLoginEvent}}),e.loggedIn?a("garage",{attrs:{garage:e.garage,recalls:e.recalls}}):e._e()],1),e._m(0)])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"mt-auto"},[a("div",[a("p",[e._v("newnhamj@deakin.edu.au")])])])}],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"nav nav-masthead justify-content-center"},[a("a",{staticClass:"nav-link btn btn-lg active"},[a("b-button",[e._v("Home")])],1),e.loggedIn?e._e():a("a",{staticClass:"nav-link btn btn-lg",on:{click:function(t){return e.click(!0)}}},[a("b-button",[e._v("Login")])],1),e.loggedIn?a("a",{staticClass:"nav-link btn btn-lg",on:{click:function(t){return e.click(!1)}}},[a("b-button",[e._v("Logout")])],1):e._e(),a("a",{staticClass:"nav-link btn btn-lg"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.search",modifiers:{search:!0}}],attrs:{id:"search-recall"}},[e._v("Search Recalls")])],1),a("search-recalls",{attrs:{recalls:e.recalls},on:{"vehicle-recalled":e.showRecallModal}}),e.loggedIn?a("a",{staticClass:"nav-link btn btn-lg"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.register-vehicle",modifiers:{"register-vehicle":!0}}],attrs:{id:"register-vehicle"}},[e._v("Register Vehicle")])],1):e._e(),a("register-vehicle",{attrs:{garage:e.garage},on:{"vehicle-registered":e.handleRegisteredVehicleEvent}})],1)},d=[],u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"search",title:"Search Recalls"},on:{on:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[a("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[a("b-form-group",{attrs:{state:e.yearState,label:"Year","label-for":"year-input","invalid-feedback":"Year is required"}},[a("b-form-input",{attrs:{id:"year-input",state:e.yearState,required:""},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}})],1),a("b-form-group",{attrs:{state:e.makeState,label:"Make","label-for":"make-input","invalid-feedback":"Make is required"}},[a("b-form-input",{attrs:{id:"make-input",state:e.makeState,required:""},model:{value:e.make,callback:function(t){e.make=t},expression:"make"}})],1),a("b-form-group",{attrs:{state:e.modelState,label:"Model","label-for":"model-input","invalid-feedback":"Model is required"}},[a("b-form-input",{attrs:{id:"model-input",state:e.modelState,required:""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1)])},h=[],m=(a("caad"),a("ac1f"),a("2532"),a("466d"),a("5319"),{name:"SearchRecalls",data:function(){return{make:"",model:"",year:"",makeState:null,modelState:null,yearState:null}},props:{recalls:Array},methods:{validateForm:function(){var e=this.year.match(/\d+/g);return""!==this.make&&""!==this.model&&""!==this.year&&null!=e&&4===this.year.length},handleSubmit:function(){var e=this;if(this.validateForm()){var t=this.replaceAll(this.make," ",""),a=this.replaceAll(this.model," ",""),r=this.replaceAll(this.year," ",""),l={year:r,make:t,model:a};this.$nextTick((function(){e.$bvModal.hide("search")})),this.isRecalled(l)&&this.$emit("vehicle-recalled",l)}},handleOk:function(e){e.preventDefault(),this.handleSubmit()},resetModal:function(){this.make="",this.makeState=null,this.model="",this.modelState=null,this.year="",this.yearState=null},isRecalled:function(e){for(var t=0;t<this.recalls.length;t++){var a=this.recalls[t];if(this.equalsIgnoreCase(a.make,e.make)&&this.equalsIgnoreCase(a.model,e.model)&&this.equalsIgnoreCase(a.year,e.year))return!0}return!1},equalsIgnoreCase:function(e,t){return e.toLowerCase()===t.toLowerCase()},replaceAll:function(e,t,a){var r=e;while(r.includes(t))r=e.replace(t,a);return r}}}),f=m,p=a("2877"),g=Object(p["a"])(f,u,h,!1,null,"de0d60fa",null),b=g.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"register-vehicle",title:"Register a vehicle!"},on:{on:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[a("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[a("b-form-group",{attrs:{state:e.yearState,label:"Year","label-for":"year-input","invalid-feedback":"Year is required"}},[a("b-form-input",{attrs:{id:"year-input",state:e.yearState,required:""},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}})],1),a("b-form-group",{attrs:{state:e.makeState,label:"Make","label-for":"make-input","invalid-feedback":"Make is required"}},[a("b-form-input",{attrs:{id:"make-input",state:e.makeState,required:""},model:{value:e.make,callback:function(t){e.make=t},expression:"make"}})],1),a("b-form-group",{attrs:{state:e.modelState,label:"Model","label-for":"model-input","invalid-feedback":"Model is required"}},[a("b-form-input",{attrs:{id:"model-input",state:e.modelState,required:""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1)])},x=[],k=(a("fb6a"),{name:"RegisterVehicle",data:function(){return{make:"",model:"",year:"",makeState:null,modelState:null,yearState:null}},props:{garage:Array},methods:{validateForm:function(){var e=this.year.match(/\d+/g);return""!==this.make&&""!==this.model&&""!==this.year&&null!=e&&4===this.year.length},handleSubmit:function(){var e=this;if(this.validateForm()){var t=this.replaceAll(this.make," ",""),a=this.replaceAll(this.model," ",""),r=this.replaceAll(this.year," ","");t=this.capitaliseFirst(t),a=this.capitaliseFirst(a);var l={year:r,make:t,model:a};this.$nextTick((function(){e.$bvModal.hide("register-vehicle")})),this.isAlreadyRegistered(l)?alert("This vehicle is already registered on your account!"):this.$emit("vehicle-registered",l)}},handleOk:function(e){e.preventDefault(),this.handleSubmit()},resetModal:function(){this.make="",this.makeState=null,this.model="",this.modelState=null,this.year="",this.yearState=null},isAlreadyRegistered:function(e){for(var t=0;t<this.garage.length;t++){var a=this.garage[t];if(this.equalsIgnoreCase(a.make,e.make)&&this.equalsIgnoreCase(a.model,e.model)&&this.equalsIgnoreCase(a.year,e.year))return!0}return!1},equalsIgnoreCase:function(e,t){return e.toLowerCase()===t.toLowerCase()},replaceAll:function(e,t,a){var r=e;while(r.includes(t))r=e.replace(t,a);return r},capitaliseFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}}),y=k,S=Object(p["a"])(y,v,x,!1,null,"03a931de",null),w=S.exports,_={name:"DynamicNav",components:{RegisterVehicle:w,SearchRecalls:b},props:{loggedIn:Boolean,recalls:Array,garage:Array},methods:{click:function(e){this.$emit("update-login",e)},showRecallModal:function(e){this.$emit("show-recall-alert",e)},handleRegisteredVehicleEvent:function(e){this.$emit("add-registered-vehicle",e)}}},C=_,R=(a("92e3"),Object(p["a"])(C,c,d,!1,null,"2f5b90b6",null)),q=R.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"modal-1",title:"Register"},on:{on:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[a("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[a("b-form-group",{attrs:{state:e.emailState,label:"Email","label-for":"email-input","invalid-feedback":"Email is required"}},[a("b-form-input",{attrs:{id:"email-input",state:e.emailState,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("b-form-group",{attrs:{state:e.passwordState,label:"Password","label-for":"password-input","invalid-feedback":"Password is required"}},[a("b-form-input",{attrs:{id:"password-input",state:e.passwordState,required:"",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)])},I=[],O={name:"Register",data:function(){return{email:"",password:"",emailState:null,passwordState:null}},methods:{validateForm:function(){return this.validateEmail(this.email)&&this.password.length>5},validateEmail:function(e){return/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/.test(e)},handleSubmit:function(){var e=this;this.validateForm()&&(this.$emit("update-login",!0),this.$nextTick((function(){e.$bvModal.hide("modal-1")})))},handleOk:function(e){e.preventDefault(),this.handleSubmit()},resetModal:function(){this.email="",this.emailState=null,this.password="",this.passwordState=null}}},$=O,E=Object(p["a"])($,M,I,!1,null,"9e89f3ba",null),j=E.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.recalledVehicles,(function(t){return a("b-alert",{key:t,attrs:{variant:"danger",show:""}},[e._v("Your "+e._s(t)+" has been recalled! Contact your local dealership immediately! ")])})),a("b-table",{attrs:{id:"cars",striped:"",hover:"",items:e.buildTable}}),a("p",[e._v("Legend: RED = recalled, GREEN = not recalled")])],2)},V=[],D={name:"Garage",components:{},props:{garage:Array,recalls:Array},data:function(){return{slide:0,sliding:null}},methods:{onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1},getStringifiedText:function(e){return e.year+" "+e.make+" "+e.model},isRecalled:function(e){for(var t=0;t<this.recalls.length;t++){var a=this.recalls[t];if(this.equalsIgnoreCase(a.make,e.make)&&this.equalsIgnoreCase(a.model,e.model)&&this.equalsIgnoreCase(a.year,e.year))return!0}return!1},equalsIgnoreCase:function(e,t){return e.toLowerCase()===t.toLowerCase()}},computed:{recalledVehicles:function(){for(var e=[],t=0;t<this.garage.length;t++){var a=this.garage[t];this.isRecalled(a)&&e.push(this.getStringifiedText(a))}return e},buildTable:function(){for(var e=[],t=0;t<this.garage.length;t++){var a=this.garage[t],r={year:a.year,make:a.make,model:a.model,_rowVariant:"success"};this.isRecalled(a)&&(r._rowVariant="danger"),e.push(r)}return e}}},T=D,L=(a("bb3a"),Object(p["a"])(T,A,V,!1,null,"3f3cce94",null)),P=L.exports,F={name:"Index",props:{},components:{Garage:P,DynamicNav:q,Register:j},data:function(){return{loggedIn:!1,mastheadContent:"Check your vehicle!",mastheadDescription:"Don't miss important vehicle recall notifications",buttonText:"Register now",showRecalledVehicle:!1,searchedVehicle:{},garage:[{make:"Toyota",model:"Camry",year:"2000"},{make:"Honda",model:"Civic",year:"2002"},{make:"Suzuki",model:"Swift",year:"1998"}],recalls:[{make:"Suzuki",model:"Swift",year:"1998",recalled:!0}]}},methods:{updateLoginEvent:function(e){this.loggedIn=e,this.loggedIn?(this.mastheadContent="Welcome back!",this.mastheadDescription="Your garage:"):(this.mastheadContent="Check your vehicle!",this.mastheadDescription="Don't miss important vehicle recall notifications")},handleShowRecalled:function(e){this.showRecalledVehicle=!0,this.searchedVehicle=e},addRegisteredVehicle:function(e){this.garage.push(e)},getStringifiedText:function(e){return e.year+" "+e.make+" "+e.model}}},N=F,Y=(a("2f9c"),Object(p["a"])(N,s,o,!1,null,"789b45ee",null)),G=Y.exports,z={name:"App",components:{Index:G}},H=z,J=(a("034f"),Object(p["a"])(H,i,n,!1,null,null,null)),B=J.exports;r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(B)}}).$mount("#app")},"740c":function(e,t,a){},"85ec":function(e,t,a){},"92e3":function(e,t,a){"use strict";var r=a("740c"),l=a.n(r);l.a},bb3a:function(e,t,a){"use strict";var r=a("efcf"),l=a.n(r);l.a},e04c:function(e,t,a){},efcf:function(e,t,a){}});
//# sourceMappingURL=app.85c79d18.js.map